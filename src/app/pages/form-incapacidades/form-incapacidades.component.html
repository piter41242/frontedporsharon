<app-menu></app-menu>

<div class="layout">
  <div class="contenido-principal">
    <div class="header-horas d-flex justify-content-between align-items-center">
      <h3>Solicitud de Incapacidad</h3>
    </div>

    <div class="main-content">
      <div class="purple-container">
        <div class="formulario-vacaciones">
          <h2>Formulario de Solicitud de Incapacidad</h2>
          <form class="vacaciones-form" (ngSubmit)="enviarSolicitud()">
            <div class="form-group">
              <label for="nombre">Nombre:</label>
              <input type="text" id="nombre" name="nombre" [(ngModel)]="nombre" required>
            </div>

            <div class="form-group">
              <label for="tipoIncapacidad">Cargo:</label>
              <input type="text" id="tipoIncapacidad" name="tipoIncapacidad" [(ngModel)]="tipoIncapacidad" required>
            </div>

            <div class="form-group">
              <label for="fechaInicio">Fecha de Inicio:</label>
              <input type="date" id="fechaInicio" name="fechaInicio" [(ngModel)]="fechaInicio" required>
            </div>

            <div class="form-group">
              <label for="fechaFin">Fecha de Fin:</label>
              <input type="date" id="fechaFin" name="fechaFin" [(ngModel)]="fechaFin" required>
            </div>

            <div class="form-group">
              <label for="diasIncapacidad">Total Días:</label>
              <input type="number" id="diasIncapacidad" name="diasIncapacidad" [(ngModel)]="diasIncapacidad" min="1" required>
            </div>

            <button type="submit" class="btn-submit">Enviar Solicitud</button>
          </form>
        </div>

        <div class="lista-solicitudes">
          <h2>Solicitudes Enviadas</h2>
          <ul class="solicitudes-lista">
            <li *ngFor="let solicitud of solicitudesIncapacidades">
              <strong>Nombre:</strong> {{ solicitud.nombre }}<br>
              <strong>Tipo:</strong> {{ solicitud.tipoIncapacidad }}<br>
              <strong>Inicio:</strong> {{ solicitud.fechaInicio }} | <strong>Fin:</strong> {{ solicitud.fechaFin }}<br>
              <strong>Días:</strong> {{ solicitud.diasIncapacidad }}<br>
              <strong *ngIf="solicitud.motivo">Motivo:</strong> {{ solicitud.motivo }}<br>
              <strong>Estado:</strong> <span [ngClass]="{'Aprobada': solicitud.estado === 'Aprobada', 'Pendiente': solicitud.estado === 'Pendiente', 'Rechazada': solicitud.estado === 'Rechazada' }">{{ solicitud.estado }}</span>
            </li>
            <li *ngIf="solicitudesIncapacidades.length === 0">
              No hay solicitudes enviadas aún.
            </li>
          </ul>
        
        </div>
      </div>
    </div>
  </div>
</div>